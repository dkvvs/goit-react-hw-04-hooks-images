{"version":3,"sources":["App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","apiServices/apiServices.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSearch","useState","searchValue","setSearchValue","className","s","searchbar","searchForm","onSubmit","event","preventDefault","trim","toast","warn","position","POSITION","TOP_LEFT","type","searchFormButton","searchFormButtonLabel","searchFormInput","name","value","onChange","target","autoComplete","autoFocus","placeholder","ImageGalleryItem","largeImageURL","webformatURL","onOpenImage","imageGalleryItem","imageGalleryItemImage","url","src","alt","onClick","ImageGallery","images","imageGallery","map","id","Button","boxButton","button","modalRoot","document","querySelector","Modal","onClose","largeImage","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","modalBackdrop","currentTarget","modalContent","Loader","loading","size","color","apiServices","fetchImages","searchQuery","page","fetch","then","res","json","App","showModal","setShowModal","setSearchQuery","setPage","setLoading","setImages","setLargeImage","data","prevState","hits","catch","error","console","finally","scrollTo","top","documentElement","scrollHeight","behavior","isButtonVisible","length","app","query","imageUrl","boxSpinner","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.570ba987.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1qc5p\",\"boxSpinner\":\"App_boxSpinner__3eRtv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2LiUM\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__oh-OV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"boxButton\":\"Button_boxButton__32-ao\",\"button\":\"Button_button__3kRGM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackdrop\":\"Modal_modalBackdrop__1mGH6\",\"modalContent\":\"Modal_modalContent__1MAbQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__37m02\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSearch }) {\n  const [searchValue, setSearchValue] = useState('');\n\n  const handleChange = ({ target }) => {\n    setSearchValue(target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (searchValue.trim() === '') {\n      toast.warn('Введите ключевое слово для поиска изображения', {\n        position: toast.POSITION.TOP_LEFT,\n      });\n      return;\n    }\n    onSearch(searchValue);\n    setSearchValue('');\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.searchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.searchFormButton}>\n          <span className={s.searchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.searchFormInput}\n          type=\"text\"\n          name=\"searchValue\"\n          value={searchValue}\n          onChange={handleChange}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSearch: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  largeImageURL,\n  webformatURL,\n  onOpenImage,\n}) {\n  const handleOpenIamge = () => {\n    onOpenImage(largeImageURL);\n  };\n\n  return (\n    <li className={s.imageGalleryItem}>\n      <img\n        className={s.imageGalleryItemImage}\n        url={largeImageURL}\n        src={webformatURL}\n        alt=\"\"\n        onClick={handleOpenIamge}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  onOpenImage: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({ images, onOpenImage }) {\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          onOpenImage={onOpenImage}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n  onOpenImage: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <div className={s.boxButton}>\n      <button type=\"button\" className={s.button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, largeImage }) {\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  return createPortal(\n    <div className={s.modalBackdrop} onClick={handleBackdropClick}>\n      <div className={s.modalContent}>\n        <img src={largeImage} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  largeImage: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PuffLoader from 'react-spinners/PuffLoader';\n\nexport default function Loader({ loading }) {\n  return <PuffLoader size={80} color=\"#df101b\" loading={loading} />;\n}\n\nLoader.propTypes = {\n  loading: PropTypes.bool,\n};\n","const apiKey = '19490802-1c5184405fc512a55f5ad98ed';\nconst baseUrl = 'https://pixabay.com/api/';\n\nfunction fetchImages(searchQuery, page) {\n  return fetch(\n    `${baseUrl}?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(res => res.json());\n}\n\nconst apiServices = {\n  fetchImages,\n};\n\nexport default apiServices;\n","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport s from './App.module.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport Loader from './components/Loader/Loader';\nimport apiServices from './apiServices/apiServices';\n\nexport default function App() {\n  const [showModal, setShowModal] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [images, setImages] = useState([]);\n  const [largeImage, setLargeImage] = useState('');\n\n  const handleSearchSubmit = query => {\n    if (searchQuery !== query) {\n      setSearchQuery(query);\n      setImages([]);\n      setPage(1);\n    }\n  };\n\n  const handleOpenLargeImage = imageUrl => {\n    setShowModal(true);\n    setLargeImage(imageUrl);\n  };\n\n  const handleAddPage = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  useEffect(() => {\n    if (searchQuery.trim() === '') {\n      return;\n    }\n    setLoading(true);\n    apiServices\n      .fetchImages(searchQuery, page)\n      .then(data => {\n        setImages(prevState => [...prevState, ...data.hits]);\n      })\n      .catch(error => console.error(error))\n      .finally(() => {\n        setLoading(false);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  }, [page, searchQuery]);\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const isButtonVisible = images.length > 0 && !loading;\n\n  return (\n    <div className={s.app}>\n      <Searchbar onSearch={handleSearchSubmit} />\n      <ImageGallery images={images} onOpenImage={handleOpenLargeImage} />\n      <div className={s.boxSpinner}>\n        <Loader loading={loading} />\n      </div>\n      {isButtonVisible && <Button onClick={handleAddPage} />}\n      {showModal && <Modal onClose={toggleModal} largeImage={largeImage} />}\n      <ToastContainer />\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3Vr0u\",\"searchForm\":\"Searchbar_searchForm__2db7E\",\"searchFormButton\":\"Searchbar_searchFormButton__3Ffm_\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__3Jual\",\"searchFormInput\":\"Searchbar_searchFormInput__1znhg\"};"],"sourceRoot":""}